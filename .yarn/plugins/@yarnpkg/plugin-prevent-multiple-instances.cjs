/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-prevent-multiple-instances",
factory: function (require) {
var plugin=(()=>{var ar=Object.create;var Ee=Object.defineProperty;var ir=Object.getOwnPropertyDescriptor;var ur=Object.getOwnPropertyNames;var or=Object.getPrototypeOf,lr=Object.prototype.hasOwnProperty;var Y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),cr=(e,r)=>{for(var t in r)Ee(e,t,{get:r[t],enumerable:!0})},Qe=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ur(r))!lr.call(e,s)&&s!==t&&Ee(e,s,{get:()=>r[s],enumerable:!(n=ir(r,s))||n.enumerable});return e};var fr=(e,r,t)=>(t=e!=null?ar(or(e)):{},Qe(r||!e||!e.__esModule?Ee(t,"default",{value:e,enumerable:!0}):t,e)),pr=e=>Qe(Ee({},"__esModule",{value:!0}),e);var Ce=D(j=>{"use strict";j.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;j.find=(e,r)=>e.nodes.find(t=>t.type===r);j.exceedsLimit=(e,r,t=1,n)=>n===!1||!j.isInteger(e)||!j.isInteger(r)?!1:(Number(r)-Number(e))/Number(t)>=n;j.escapeNode=(e,r=0,t)=>{let n=e.nodes[r];n&&(t&&n.type===t||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};j.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);j.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;j.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;j.reduce=e=>e.reduce((r,t)=>(t.type==="text"&&r.push(t.value),t.type==="range"&&(t.type="text"),r),[]);j.flatten=(...e)=>{let r=[],t=n=>{for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?t(a,r):a!==void 0&&r.push(a)}return r};return t(e),r}});var xe=D((Nn,je)=>{"use strict";var Xe=Ce();je.exports=(e,r={})=>{let t=(n,s={})=>{let a=r.escapeInvalid&&Xe.isInvalidBrace(s),i=n.invalid===!0&&r.escapeInvalid===!0,l="";if(n.value)return(a||i)&&Xe.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let g of n.nodes)l+=t(g);return l};return t(e)}});var ze=D((In,Ze)=>{"use strict";Ze.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var at=D((kn,st)=>{"use strict";var Ve=ze(),ie=(e,r,t)=>{if(Ve(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(r===void 0||e===r)return String(e);if(Ve(r)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...t};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),a=String(n.shorthand),i=String(n.capture),l=String(n.wrap),g=e+":"+r+"="+s+a+i+l;if(ie.cache.hasOwnProperty(g))return ie.cache[g].result;let R=Math.min(e,r),p=Math.max(e,r);if(Math.abs(R-p)===1){let _=e+"|"+r;return n.capture?`(${_})`:n.wrap===!1?_:`(?:${_})`}let d=nt(e)||nt(r),f={min:e,max:r,a:R,b:p},v=[],y=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),R<0){let _=p<0?Math.abs(p):1;y=Ye(_,Math.abs(R),f,n),R=f.a=0}return p>=0&&(v=Ye(R,p,f,n)),f.negatives=y,f.positives=v,f.result=hr(y,v,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&v.length+y.length>1&&(f.result=`(?:${f.result})`),ie.cache[g]=f,f.result};function hr(e,r,t){let n=Le(e,r,"-",!1,t)||[],s=Le(r,e,"",!1,t)||[],a=Le(e,r,"-?",!0,t)||[];return n.concat(a).concat(s).join("|")}function gr(e,r){let t=1,n=1,s=et(e,t),a=new Set([r]);for(;e<=s&&s<=r;)a.add(s),t+=1,s=et(e,t);for(s=tt(r+1,n)-1;e<s&&s<=r;)a.add(s),n+=1,s=tt(r+1,n)-1;return a=[...a],a.sort(dr),a}function Ar(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=Rr(e,r),s=n.length,a="",i=0;for(let l=0;l<s;l++){let[g,R]=n[l];g===R?a+=g:g!=="0"||R!=="9"?a+=_r(g,R,t):i++}return i&&(a+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[i],digits:s}}function Ye(e,r,t,n){let s=gr(e,r),a=[],i=e,l;for(let g=0;g<s.length;g++){let R=s[g],p=Ar(String(i),String(R),n),d="";if(!t.isPadded&&l&&l.pattern===p.pattern){l.count.length>1&&l.count.pop(),l.count.push(p.count[0]),l.string=l.pattern+rt(l.count),i=R+1;continue}t.isPadded&&(d=yr(R,t,n)),p.string=d+p.pattern+rt(p.count),a.push(p),i=R+1,l=p}return a}function Le(e,r,t,n,s){let a=[];for(let i of e){let{string:l}=i;!n&&!Je(r,"string",l)&&a.push(t+l),n&&Je(r,"string",l)&&a.push(t+l)}return a}function Rr(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function dr(e,r){return e>r?1:r>e?-1:0}function Je(e,r,t){return e.some(n=>n[r]===t)}function et(e,r){return Number(String(e).slice(0,-r)+"9".repeat(r))}function tt(e,r){return e-e%Math.pow(10,r)}function rt(e){let[r=0,t=""]=e;return t||r>1?`{${r+(t?","+t:"")}}`:""}function _r(e,r,t){return`[${e}${r-e===1?"":"-"}${r}]`}function nt(e){return/^-?(0+)\d/.test(e)}function yr(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),s=t.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}ie.cache={};ie.clearCache=()=>ie.cache={};st.exports=ie});var Ne=D((Mn,ht)=>{"use strict";var Er=Y("util"),ot=at(),it=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Cr=e=>r=>e===!0?Number(r):String(r),we=e=>typeof e=="number"||typeof e=="string"&&e!=="",ce=e=>Number.isInteger(+e),Oe=e=>{let r=`${e}`,t=-1;if(r[0]==="-"&&(r=r.slice(1)),r==="0")return!1;for(;r[++t]==="0";);return t>0},xr=(e,r,t)=>typeof e=="string"||typeof r=="string"?!0:t.stringify===!0,mr=(e,r,t)=>{if(r>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,"0")}return t===!1?String(e):e},ut=(e,r)=>{let t=e[0]==="-"?"-":"";for(t&&(e=e.slice(1),r--);e.length<r;)e="0"+e;return t?"-"+e:e},br=(e,r)=>{e.negatives.sort((i,l)=>i<l?-1:i>l?1:0),e.positives.sort((i,l)=>i<l?-1:i>l?1:0);let t=r.capture?"":"?:",n="",s="",a;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(s=`-(${t}${e.negatives.join("|")})`),n&&s?a=`${n}|${s}`:a=n||s,r.wrap?`(${t}${a})`:a},lt=(e,r,t,n)=>{if(t)return ot(e,r,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===r)return s;let a=String.fromCharCode(r);return`[${s}-${a}]`},ct=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,s=t.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return ot(e,r,t)},ft=(...e)=>new RangeError("Invalid range arguments: "+Er.inspect(...e)),pt=(e,r,t)=>{if(t.strictRanges===!0)throw ft([e,r]);return[]},Sr=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Hr=(e,r,t=1,n={})=>{let s=Number(e),a=Number(r);if(!Number.isInteger(s)||!Number.isInteger(a)){if(n.strictRanges===!0)throw ft([e,r]);return[]}s===0&&(s=0),a===0&&(a=0);let i=s>a,l=String(e),g=String(r),R=String(t);t=Math.max(Math.abs(t),1);let p=Oe(l)||Oe(g)||Oe(R),d=p?Math.max(l.length,g.length,R.length):0,f=p===!1&&xr(e,r,n)===!1,v=n.transform||Cr(f);if(n.toRegex&&t===1)return lt(ut(e,d),ut(r,d),!0,n);let y={negatives:[],positives:[]},_=O=>y[O<0?"negatives":"positives"].push(Math.abs(O)),x=[],b=0;for(;i?s>=a:s<=a;)n.toRegex===!0&&t>1?_(s):x.push(mr(v(s,b),d,f)),s=i?s-t:s+t,b++;return n.toRegex===!0?t>1?br(y,n):ct(x,null,{wrap:!1,...n}):x},vr=(e,r,t=1,n={})=>{if(!ce(e)&&e.length>1||!ce(r)&&r.length>1)return pt(e,r,n);let s=n.transform||(f=>String.fromCharCode(f)),a=`${e}`.charCodeAt(0),i=`${r}`.charCodeAt(0),l=a>i,g=Math.min(a,i),R=Math.max(a,i);if(n.toRegex&&t===1)return lt(g,R,!1,n);let p=[],d=0;for(;l?a>=i:a<=i;)p.push(s(a,d)),a=l?a-t:a+t,d++;return n.toRegex===!0?ct(p,null,{wrap:!1,options:n}):p},me=(e,r,t,n={})=>{if(r==null&&we(e))return[e];if(!we(e)||!we(r))return pt(e,r,n);if(typeof t=="function")return me(e,r,1,{transform:t});if(it(t))return me(e,r,0,t);let s={...n};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,ce(t)?ce(e)&&ce(r)?Hr(e,r,t,s):vr(e,r,Math.max(Math.abs(t),1),s):t!=null&&!it(t)?Sr(t,s):me(e,r,1,t)};ht.exports=me});var Rt=D((Pn,At)=>{"use strict";var Tr=Ne(),gt=Ce(),$r=(e,r={})=>{let t=(n,s={})=>{let a=gt.isInvalidBrace(s),i=n.invalid===!0&&r.escapeInvalid===!0,l=a===!0||i===!0,g=r.escapeInvalid===!0?"\\":"",R="";if(n.isOpen===!0||n.isClose===!0)return g+n.value;if(n.type==="open")return l?g+n.value:"(";if(n.type==="close")return l?g+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":l?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let p=gt.reduce(n.nodes),d=Tr(...p,{...r,wrap:!1,toRegex:!0});if(d.length!==0)return p.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let p of n.nodes)R+=t(p,n);return R};return t(e)};At.exports=$r});var yt=D((Bn,_t)=>{"use strict";var Lr=Ne(),dt=xe(),oe=Ce(),ue=(e="",r="",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?oe.flatten(r).map(s=>`{${s}}`):r;for(let s of e)if(Array.isArray(s))for(let a of s)n.push(ue(a,r,t));else for(let a of r)t===!0&&typeof a=="string"&&(a=`{${a}}`),n.push(Array.isArray(a)?ue(s,a,t):s+a);return oe.flatten(n)},wr=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(s,a={})=>{s.queue=[];let i=a,l=a.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,l=i.queue;if(s.invalid||s.dollar){l.push(ue(l.pop(),dt(s,r)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){l.push(ue(l.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let d=oe.reduce(s.nodes);if(oe.exceedsLimit(...d,r.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Lr(...d,r);f.length===0&&(f=dt(s,r)),l.push(ue(l.pop(),f)),s.nodes=[];return}let g=oe.encloseBrace(s),R=s.queue,p=s;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,R=p.queue;for(let d=0;d<s.nodes.length;d++){let f=s.nodes[d];if(f.type==="comma"&&s.type==="brace"){d===1&&R.push(""),R.push("");continue}if(f.type==="close"){l.push(ue(l.pop(),R,g));continue}if(f.value&&f.type!=="open"){R.push(ue(R.pop(),f.value));continue}f.nodes&&n(f,s)}return R};return oe.flatten(n(e))};_t.exports=wr});var Ct=D((Dn,Et)=>{"use strict";Et.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Ht=D((Un,St)=>{"use strict";var Or=xe(),{MAX_LENGTH:xt,CHAR_BACKSLASH:Ie,CHAR_BACKTICK:Nr,CHAR_COMMA:Ir,CHAR_DOT:kr,CHAR_LEFT_PARENTHESES:Mr,CHAR_RIGHT_PARENTHESES:Pr,CHAR_LEFT_CURLY_BRACE:Br,CHAR_RIGHT_CURLY_BRACE:Dr,CHAR_LEFT_SQUARE_BRACKET:mt,CHAR_RIGHT_SQUARE_BRACKET:bt,CHAR_DOUBLE_QUOTE:Ur,CHAR_SINGLE_QUOTE:Gr,CHAR_NO_BREAK_SPACE:Kr,CHAR_ZERO_WIDTH_NOBREAK_SPACE:qr}=Ct(),Fr=(e,r={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let t=r||{},n=typeof t.maxLength=="number"?Math.min(xt,t.maxLength):xt;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},a=[s],i=s,l=s,g=0,R=e.length,p=0,d=0,f,v={},y=()=>e[p++],_=x=>{if(x.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&x.type==="text"){l.value+=x.value;return}return i.nodes.push(x),x.parent=i,x.prev=l,l=x,x};for(_({type:"bos"});p<R;)if(i=a[a.length-1],f=y(),!(f===qr||f===Kr)){if(f===Ie){_({type:"text",value:(r.keepEscaping?f:"")+y()});continue}if(f===bt){_({type:"text",value:"\\"+f});continue}if(f===mt){g++;let x=!0,b;for(;p<R&&(b=y());){if(f+=b,b===mt){g++;continue}if(b===Ie){f+=y();continue}if(b===bt&&(g--,g===0))break}_({type:"text",value:f});continue}if(f===Mr){i=_({type:"paren",nodes:[]}),a.push(i),_({type:"text",value:f});continue}if(f===Pr){if(i.type!=="paren"){_({type:"text",value:f});continue}i=a.pop(),_({type:"text",value:f}),i=a[a.length-1];continue}if(f===Ur||f===Gr||f===Nr){let x=f,b;for(r.keepQuotes!==!0&&(f="");p<R&&(b=y());){if(b===Ie){f+=b+y();continue}if(b===x){r.keepQuotes===!0&&(f+=b);break}f+=b}_({type:"text",value:f});continue}if(f===Br){d++;let b={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||i.dollar===!0,depth:d,commas:0,ranges:0,nodes:[]};i=_(b),a.push(i),_({type:"open",value:f});continue}if(f===Dr){if(i.type!=="brace"){_({type:"text",value:f});continue}let x="close";i=a.pop(),i.close=!0,_({type:x,value:f}),d--,i=a[a.length-1];continue}if(f===Ir&&d>0){if(i.ranges>0){i.ranges=0;let x=i.nodes.shift();i.nodes=[x,{type:"text",value:Or(i)}]}_({type:"comma",value:f}),i.commas++;continue}if(f===kr&&d>0&&i.commas===0){let x=i.nodes;if(d===0||x.length===0){_({type:"text",value:f});continue}if(l.type==="dot"){if(i.range=[],l.value+=f,l.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,l.type="text";continue}i.ranges++,i.args=[];continue}if(l.type==="range"){x.pop();let b=x[x.length-1];b.value+=l.value+f,l=b,i.ranges--;continue}_({type:"dot",value:f});continue}_({type:"text",value:f})}do if(i=a.pop(),i.type!=="root"){i.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let x=a[a.length-1],b=x.nodes.indexOf(i);x.nodes.splice(b,1,...i.nodes)}while(a.length>0);return _({type:"eos"}),s};St.exports=Fr});var $t=D((Gn,Tt)=>{"use strict";var vt=xe(),Wr=Rt(),Qr=yt(),Xr=Ht(),Q=(e,r={})=>{let t=[];if(Array.isArray(e))for(let n of e){let s=Q.create(n,r);Array.isArray(s)?t.push(...s):t.push(s)}else t=[].concat(Q.create(e,r));return r&&r.expand===!0&&r.nodupes===!0&&(t=[...new Set(t)]),t};Q.parse=(e,r={})=>Xr(e,r);Q.stringify=(e,r={})=>vt(typeof e=="string"?Q.parse(e,r):e,r);Q.compile=(e,r={})=>(typeof e=="string"&&(e=Q.parse(e,r)),Wr(e,r));Q.expand=(e,r={})=>{typeof e=="string"&&(e=Q.parse(e,r));let t=Qr(e,r);return r.noempty===!0&&(t=t.filter(Boolean)),r.nodupes===!0&&(t=[...new Set(t)]),t};Q.create=(e,r={})=>e===""||e.length<3?[e]:r.expand!==!0?Q.compile(e,r):Q.expand(e,r);Tt.exports=Q});var fe=D((Kn,It)=>{"use strict";var jr=Y("path"),J="\\\\/",Lt=`[^${J}]`,te="\\.",Zr="\\+",zr="\\?",be="\\/",Vr="(?=.)",wt="[^/]",ke=`(?:${be}|$)`,Ot=`(?:^|${be})`,Me=`${te}{1,2}${ke}`,Yr=`(?!${te})`,Jr=`(?!${Ot}${Me})`,en=`(?!${te}{0,1}${ke})`,tn=`(?!${Me})`,rn=`[^.${be}]`,nn=`${wt}*?`,Nt={DOT_LITERAL:te,PLUS_LITERAL:Zr,QMARK_LITERAL:zr,SLASH_LITERAL:be,ONE_CHAR:Vr,QMARK:wt,END_ANCHOR:ke,DOTS_SLASH:Me,NO_DOT:Yr,NO_DOTS:Jr,NO_DOT_SLASH:en,NO_DOTS_SLASH:tn,QMARK_NO_DOT:rn,STAR:nn,START_ANCHOR:Ot},sn={...Nt,SLASH_LITERAL:`[${J}]`,QMARK:Lt,STAR:`${Lt}*?`,DOTS_SLASH:`${te}{1,2}(?:[${J}]|$)`,NO_DOT:`(?!${te})`,NO_DOTS:`(?!(?:^|[${J}])${te}{1,2}(?:[${J}]|$))`,NO_DOT_SLASH:`(?!${te}{0,1}(?:[${J}]|$))`,NO_DOTS_SLASH:`(?!${te}{1,2}(?:[${J}]|$))`,QMARK_NO_DOT:`[^.${J}]`,START_ANCHOR:`(?:^|[${J}])`,END_ANCHOR:`(?:[${J}]|$)`},an={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};It.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:an,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:jr.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?sn:Nt}}});var pe=D(F=>{"use strict";var un=Y("path"),on=process.platform==="win32",{REGEX_BACKSLASH:ln,REGEX_REMOVE_BACKSLASH:cn,REGEX_SPECIAL_CHARS:fn,REGEX_SPECIAL_CHARS_GLOBAL:pn}=fe();F.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);F.hasRegexChars=e=>fn.test(e);F.isRegexChar=e=>e.length===1&&F.hasRegexChars(e);F.escapeRegex=e=>e.replace(pn,"\\$1");F.toPosixSlashes=e=>e.replace(ln,"/");F.removeBackslashes=e=>e.replace(cn,r=>r==="\\"?"":r);F.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};F.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:on===!0||un.sep==="\\";F.escapeLast=(e,r,t)=>{let n=e.lastIndexOf(r,t);return n===-1?e:e[n-1]==="\\"?F.escapeLast(e,r,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};F.removePrefix=(e,r={})=>{let t=e;return t.startsWith("./")&&(t=t.slice(2),r.prefix="./"),t};F.wrapOutput=(e,r={},t={})=>{let n=t.contains?"":"^",s=t.contains?"":"$",a=`${n}(?:${e})${s}`;return r.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var Kt=D((Fn,Gt)=>{"use strict";var kt=pe(),{CHAR_ASTERISK:Pe,CHAR_AT:hn,CHAR_BACKWARD_SLASH:he,CHAR_COMMA:gn,CHAR_DOT:Be,CHAR_EXCLAMATION_MARK:De,CHAR_FORWARD_SLASH:Ut,CHAR_LEFT_CURLY_BRACE:Ue,CHAR_LEFT_PARENTHESES:Ge,CHAR_LEFT_SQUARE_BRACKET:An,CHAR_PLUS:Rn,CHAR_QUESTION_MARK:Mt,CHAR_RIGHT_CURLY_BRACE:dn,CHAR_RIGHT_PARENTHESES:Pt,CHAR_RIGHT_SQUARE_BRACKET:_n}=fe(),Bt=e=>e===Ut||e===he,Dt=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},yn=(e,r)=>{let t=r||{},n=e.length-1,s=t.parts===!0||t.scanToEnd===!0,a=[],i=[],l=[],g=e,R=-1,p=0,d=0,f=!1,v=!1,y=!1,_=!1,x=!1,b=!1,O=!1,I=!1,Z=!1,U=!1,re=0,G,E,H={value:"",depth:0,isGlob:!1},B=()=>R>=n,c=()=>g.charCodeAt(R+1),L=()=>(G=E,g.charCodeAt(++R));for(;R<n;){E=L();let K;if(E===he){O=H.backslashes=!0,E=L(),E===Ue&&(b=!0);continue}if(b===!0||E===Ue){for(re++;B()!==!0&&(E=L());){if(E===he){O=H.backslashes=!0,L();continue}if(E===Ue){re++;continue}if(b!==!0&&E===Be&&(E=L())===Be){if(f=H.isBrace=!0,y=H.isGlob=!0,U=!0,s===!0)continue;break}if(b!==!0&&E===gn){if(f=H.isBrace=!0,y=H.isGlob=!0,U=!0,s===!0)continue;break}if(E===dn&&(re--,re===0)){b=!1,f=H.isBrace=!0,U=!0;break}}if(s===!0)continue;break}if(E===Ut){if(a.push(R),i.push(H),H={value:"",depth:0,isGlob:!1},U===!0)continue;if(G===Be&&R===p+1){p+=2;continue}d=R+1;continue}if(t.noext!==!0&&(E===Rn||E===hn||E===Pe||E===Mt||E===De)===!0&&c()===Ge){if(y=H.isGlob=!0,_=H.isExtglob=!0,U=!0,E===De&&R===p&&(Z=!0),s===!0){for(;B()!==!0&&(E=L());){if(E===he){O=H.backslashes=!0,E=L();continue}if(E===Pt){y=H.isGlob=!0,U=!0;break}}continue}break}if(E===Pe){if(G===Pe&&(x=H.isGlobstar=!0),y=H.isGlob=!0,U=!0,s===!0)continue;break}if(E===Mt){if(y=H.isGlob=!0,U=!0,s===!0)continue;break}if(E===An){for(;B()!==!0&&(K=L());){if(K===he){O=H.backslashes=!0,L();continue}if(K===_n){v=H.isBracket=!0,y=H.isGlob=!0,U=!0;break}}if(s===!0)continue;break}if(t.nonegate!==!0&&E===De&&R===p){I=H.negated=!0,p++;continue}if(t.noparen!==!0&&E===Ge){if(y=H.isGlob=!0,s===!0){for(;B()!==!0&&(E=L());){if(E===Ge){O=H.backslashes=!0,E=L();continue}if(E===Pt){U=!0;break}}continue}break}if(y===!0){if(U=!0,s===!0)continue;break}}t.noext===!0&&(_=!1,y=!1);let T=g,ne="",u="";p>0&&(ne=g.slice(0,p),g=g.slice(p),d-=p),T&&y===!0&&d>0?(T=g.slice(0,d),u=g.slice(d)):y===!0?(T="",u=g):T=g,T&&T!==""&&T!=="/"&&T!==g&&Bt(T.charCodeAt(T.length-1))&&(T=T.slice(0,-1)),t.unescape===!0&&(u&&(u=kt.removeBackslashes(u)),T&&O===!0&&(T=kt.removeBackslashes(T)));let o={prefix:ne,input:e,start:p,base:T,glob:u,isBrace:f,isBracket:v,isGlob:y,isExtglob:_,isGlobstar:x,negated:I,negatedExtglob:Z};if(t.tokens===!0&&(o.maxDepth=0,Bt(E)||i.push(H),o.tokens=i),t.parts===!0||t.tokens===!0){let K;for(let S=0;S<a.length;S++){let z=K?K+1:p,V=a[S],W=e.slice(z,V);t.tokens&&(S===0&&p!==0?(i[S].isPrefix=!0,i[S].value=ne):i[S].value=W,Dt(i[S]),o.maxDepth+=i[S].depth),(S!==0||W!=="")&&l.push(W),K=V}if(K&&K+1<e.length){let S=e.slice(K+1);l.push(S),t.tokens&&(i[i.length-1].value=S,Dt(i[i.length-1]),o.maxDepth+=i[i.length-1].depth)}o.slashes=a,o.parts=l}return o};Gt.exports=yn});var Wt=D((Wn,Ft)=>{"use strict";var Se=fe(),X=pe(),{MAX_LENGTH:He,POSIX_REGEX_SOURCE:En,REGEX_NON_SPECIAL_CHARS:Cn,REGEX_SPECIAL_CHARS_BACKREF:xn,REPLACEMENTS:qt}=Se,mn=(e,r)=>{if(typeof r.expandRange=="function")return r.expandRange(...e,r);e.sort();let t=`[${e.join("-")}]`;try{new RegExp(t)}catch{return e.map(s=>X.escapeRegex(s)).join("..")}return t},le=(e,r)=>`Missing ${e}: "${r}" - use "\\\\${r}" to match literal characters`,Ke=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=qt[e]||e;let t={...r},n=typeof t.maxLength=="number"?Math.min(He,t.maxLength):He,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:t.prepend||""},i=[a],l=t.capture?"":"?:",g=X.isWindows(r),R=Se.globChars(g),p=Se.extglobChars(R),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:v,ONE_CHAR:y,DOTS_SLASH:_,NO_DOT:x,NO_DOT_SLASH:b,NO_DOTS_SLASH:O,QMARK:I,QMARK_NO_DOT:Z,STAR:U,START_ANCHOR:re}=R,G=A=>`(${l}(?:(?!${re}${A.dot?_:d}).)*?)`,E=t.dot?"":x,H=t.dot?I:Z,B=t.bash===!0?G(t):U;t.capture&&(B=`(${B})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let c={input:e,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=X.removePrefix(e,c),s=e.length;let L=[],T=[],ne=[],u=a,o,K=()=>c.index===s-1,S=c.peek=(A=1)=>e[c.index+A],z=c.advance=()=>e[++c.index]||"",V=()=>e.slice(c.index+1),W=(A="",$=0)=>{c.consumed+=A,c.index+=$},Re=A=>{c.output+=A.output!=null?A.output:A.value,W(A.value)},nr=()=>{let A=1;for(;S()==="!"&&(S(2)!=="("||S(3)==="?");)z(),c.start++,A++;return A%2===0?!1:(c.negated=!0,c.start++,!0)},de=A=>{c[A]++,ne.push(A)},ae=A=>{c[A]--,ne.pop()},m=A=>{if(u.type==="globstar"){let $=c.braces>0&&(A.type==="comma"||A.type==="brace"),h=A.extglob===!0||L.length&&(A.type==="pipe"||A.type==="paren");A.type!=="slash"&&A.type!=="paren"&&!$&&!h&&(c.output=c.output.slice(0,-u.output.length),u.type="star",u.value="*",u.output=B,c.output+=u.output)}if(L.length&&A.type!=="paren"&&(L[L.length-1].inner+=A.value),(A.value||A.output)&&Re(A),u&&u.type==="text"&&A.type==="text"){u.value+=A.value,u.output=(u.output||"")+A.value;return}A.prev=u,i.push(A),u=A},_e=(A,$)=>{let h={...p[$],conditions:1,inner:""};h.prev=u,h.parens=c.parens,h.output=c.output;let C=(t.capture?"(":"")+h.open;de("parens"),m({type:A,value:$,output:c.output?"":y}),m({type:"paren",extglob:!0,value:z(),output:C}),L.push(h)},sr=A=>{let $=A.close+(t.capture?")":""),h;if(A.type==="negate"){let C=B;if(A.inner&&A.inner.length>1&&A.inner.includes("/")&&(C=G(t)),(C!==B||K()||/^\)+$/.test(V()))&&($=A.close=`)$))${C}`),A.inner.includes("*")&&(h=V())&&/^\.[^\\/.]+$/.test(h)){let N=Ke(h,{...r,fastpaths:!1}).output;$=A.close=`)${N})${C})`}A.prev.type==="bos"&&(c.negatedExtglob=!0)}m({type:"paren",extglob:!0,value:o,output:$}),ae("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let A=!1,$=e.replace(xn,(h,C,N,q,M,$e)=>q==="\\"?(A=!0,h):q==="?"?C?C+q+(M?I.repeat(M.length):""):$e===0?H+(M?I.repeat(M.length):""):I.repeat(N.length):q==="."?d.repeat(N.length):q==="*"?C?C+q+(M?B:""):B:C?h:`\\${h}`);return A===!0&&(t.unescape===!0?$=$.replace(/\\/g,""):$=$.replace(/\\+/g,h=>h.length%2===0?"\\\\":h?"\\":"")),$===e&&t.contains===!0?(c.output=e,c):(c.output=X.wrapOutput($,c,r),c)}for(;!K();){if(o=z(),o==="\0")continue;if(o==="\\"){let h=S();if(h==="/"&&t.bash!==!0||h==="."||h===";")continue;if(!h){o+="\\",m({type:"text",value:o});continue}let C=/^\\+/.exec(V()),N=0;if(C&&C[0].length>2&&(N=C[0].length,c.index+=N,N%2!==0&&(o+="\\")),t.unescape===!0?o=z():o+=z(),c.brackets===0){m({type:"text",value:o});continue}}if(c.brackets>0&&(o!=="]"||u.value==="["||u.value==="[^")){if(t.posix!==!1&&o===":"){let h=u.value.slice(1);if(h.includes("[")&&(u.posix=!0,h.includes(":"))){let C=u.value.lastIndexOf("["),N=u.value.slice(0,C),q=u.value.slice(C+2),M=En[q];if(M){u.value=N+M,c.backtrack=!0,z(),!a.output&&i.indexOf(u)===1&&(a.output=y);continue}}}(o==="["&&S()!==":"||o==="-"&&S()==="]")&&(o=`\\${o}`),o==="]"&&(u.value==="["||u.value==="[^")&&(o=`\\${o}`),t.posix===!0&&o==="!"&&u.value==="["&&(o="^"),u.value+=o,Re({value:o});continue}if(c.quotes===1&&o!=='"'){o=X.escapeRegex(o),u.value+=o,Re({value:o});continue}if(o==='"'){c.quotes=c.quotes===1?0:1,t.keepQuotes===!0&&m({type:"text",value:o});continue}if(o==="("){de("parens"),m({type:"paren",value:o});continue}if(o===")"){if(c.parens===0&&t.strictBrackets===!0)throw new SyntaxError(le("opening","("));let h=L[L.length-1];if(h&&c.parens===h.parens+1){sr(L.pop());continue}m({type:"paren",value:o,output:c.parens?")":"\\)"}),ae("parens");continue}if(o==="["){if(t.nobracket===!0||!V().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(le("closing","]"));o=`\\${o}`}else de("brackets");m({type:"bracket",value:o});continue}if(o==="]"){if(t.nobracket===!0||u&&u.type==="bracket"&&u.value.length===1){m({type:"text",value:o,output:`\\${o}`});continue}if(c.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(le("opening","["));m({type:"text",value:o,output:`\\${o}`});continue}ae("brackets");let h=u.value.slice(1);if(u.posix!==!0&&h[0]==="^"&&!h.includes("/")&&(o=`/${o}`),u.value+=o,Re({value:o}),t.literalBrackets===!1||X.hasRegexChars(h))continue;let C=X.escapeRegex(u.value);if(c.output=c.output.slice(0,-u.value.length),t.literalBrackets===!0){c.output+=C,u.value=C;continue}u.value=`(${l}${C}|${u.value})`,c.output+=u.value;continue}if(o==="{"&&t.nobrace!==!0){de("braces");let h={type:"brace",value:o,output:"(",outputIndex:c.output.length,tokensIndex:c.tokens.length};T.push(h),m(h);continue}if(o==="}"){let h=T[T.length-1];if(t.nobrace===!0||!h){m({type:"text",value:o,output:o});continue}let C=")";if(h.dots===!0){let N=i.slice(),q=[];for(let M=N.length-1;M>=0&&(i.pop(),N[M].type!=="brace");M--)N[M].type!=="dots"&&q.unshift(N[M].value);C=mn(q,t),c.backtrack=!0}if(h.comma!==!0&&h.dots!==!0){let N=c.output.slice(0,h.outputIndex),q=c.tokens.slice(h.tokensIndex);h.value=h.output="\\{",o=C="\\}",c.output=N;for(let M of q)c.output+=M.output||M.value}m({type:"brace",value:o,output:C}),ae("braces"),T.pop();continue}if(o==="|"){L.length>0&&L[L.length-1].conditions++,m({type:"text",value:o});continue}if(o===","){let h=o,C=T[T.length-1];C&&ne[ne.length-1]==="braces"&&(C.comma=!0,h="|"),m({type:"comma",value:o,output:h});continue}if(o==="/"){if(u.type==="dot"&&c.index===c.start+1){c.start=c.index+1,c.consumed="",c.output="",i.pop(),u=a;continue}m({type:"slash",value:o,output:v});continue}if(o==="."){if(c.braces>0&&u.type==="dot"){u.value==="."&&(u.output=d);let h=T[T.length-1];u.type="dots",u.output+=o,u.value+=o,h.dots=!0;continue}if(c.braces+c.parens===0&&u.type!=="bos"&&u.type!=="slash"){m({type:"text",value:o,output:d});continue}m({type:"dot",value:o,output:d});continue}if(o==="?"){if(!(u&&u.value==="(")&&t.noextglob!==!0&&S()==="("&&S(2)!=="?"){_e("qmark",o);continue}if(u&&u.type==="paren"){let C=S(),N=o;if(C==="<"&&!X.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(u.value==="("&&!/[!=<:]/.test(C)||C==="<"&&!/<([!=]|\w+>)/.test(V()))&&(N=`\\${o}`),m({type:"text",value:o,output:N});continue}if(t.dot!==!0&&(u.type==="slash"||u.type==="bos")){m({type:"qmark",value:o,output:Z});continue}m({type:"qmark",value:o,output:I});continue}if(o==="!"){if(t.noextglob!==!0&&S()==="("&&(S(2)!=="?"||!/[!=<:]/.test(S(3)))){_e("negate",o);continue}if(t.nonegate!==!0&&c.index===0){nr();continue}}if(o==="+"){if(t.noextglob!==!0&&S()==="("&&S(2)!=="?"){_e("plus",o);continue}if(u&&u.value==="("||t.regex===!1){m({type:"plus",value:o,output:f});continue}if(u&&(u.type==="bracket"||u.type==="paren"||u.type==="brace")||c.parens>0){m({type:"plus",value:o});continue}m({type:"plus",value:f});continue}if(o==="@"){if(t.noextglob!==!0&&S()==="("&&S(2)!=="?"){m({type:"at",extglob:!0,value:o,output:""});continue}m({type:"text",value:o});continue}if(o!=="*"){(o==="$"||o==="^")&&(o=`\\${o}`);let h=Cn.exec(V());h&&(o+=h[0],c.index+=h[0].length),m({type:"text",value:o});continue}if(u&&(u.type==="globstar"||u.star===!0)){u.type="star",u.star=!0,u.value+=o,u.output=B,c.backtrack=!0,c.globstar=!0,W(o);continue}let A=V();if(t.noextglob!==!0&&/^\([^?]/.test(A)){_e("star",o);continue}if(u.type==="star"){if(t.noglobstar===!0){W(o);continue}let h=u.prev,C=h.prev,N=h.type==="slash"||h.type==="bos",q=C&&(C.type==="star"||C.type==="globstar");if(t.bash===!0&&(!N||A[0]&&A[0]!=="/")){m({type:"star",value:o,output:""});continue}let M=c.braces>0&&(h.type==="comma"||h.type==="brace"),$e=L.length&&(h.type==="pipe"||h.type==="paren");if(!N&&h.type!=="paren"&&!M&&!$e){m({type:"star",value:o,output:""});continue}for(;A.slice(0,3)==="/**";){let ye=e[c.index+4];if(ye&&ye!=="/")break;A=A.slice(3),W("/**",3)}if(h.type==="bos"&&K()){u.type="globstar",u.value+=o,u.output=G(t),c.output=u.output,c.globstar=!0,W(o);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&!q&&K()){c.output=c.output.slice(0,-(h.output+u.output).length),h.output=`(?:${h.output}`,u.type="globstar",u.output=G(t)+(t.strictSlashes?")":"|$)"),u.value+=o,c.globstar=!0,c.output+=h.output+u.output,W(o);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&A[0]==="/"){let ye=A[1]!==void 0?"|$":"";c.output=c.output.slice(0,-(h.output+u.output).length),h.output=`(?:${h.output}`,u.type="globstar",u.output=`${G(t)}${v}|${v}${ye})`,u.value+=o,c.output+=h.output+u.output,c.globstar=!0,W(o+z()),m({type:"slash",value:"/",output:""});continue}if(h.type==="bos"&&A[0]==="/"){u.type="globstar",u.value+=o,u.output=`(?:^|${v}|${G(t)}${v})`,c.output=u.output,c.globstar=!0,W(o+z()),m({type:"slash",value:"/",output:""});continue}c.output=c.output.slice(0,-u.output.length),u.type="globstar",u.output=G(t),u.value+=o,c.output+=u.output,c.globstar=!0,W(o);continue}let $={type:"star",value:o,output:B};if(t.bash===!0){$.output=".*?",(u.type==="bos"||u.type==="slash")&&($.output=E+$.output),m($);continue}if(u&&(u.type==="bracket"||u.type==="paren")&&t.regex===!0){$.output=o,m($);continue}(c.index===c.start||u.type==="slash"||u.type==="dot")&&(u.type==="dot"?(c.output+=b,u.output+=b):t.dot===!0?(c.output+=O,u.output+=O):(c.output+=E,u.output+=E),S()!=="*"&&(c.output+=y,u.output+=y)),m($)}for(;c.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(le("closing","]"));c.output=X.escapeLast(c.output,"["),ae("brackets")}for(;c.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(le("closing",")"));c.output=X.escapeLast(c.output,"("),ae("parens")}for(;c.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(le("closing","}"));c.output=X.escapeLast(c.output,"{"),ae("braces")}if(t.strictSlashes!==!0&&(u.type==="star"||u.type==="bracket")&&m({type:"maybe_slash",value:"",output:`${v}?`}),c.backtrack===!0){c.output="";for(let A of c.tokens)c.output+=A.output!=null?A.output:A.value,A.suffix&&(c.output+=A.suffix)}return c};Ke.fastpaths=(e,r)=>{let t={...r},n=typeof t.maxLength=="number"?Math.min(He,t.maxLength):He,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=qt[e]||e;let a=X.isWindows(r),{DOT_LITERAL:i,SLASH_LITERAL:l,ONE_CHAR:g,DOTS_SLASH:R,NO_DOT:p,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:v,START_ANCHOR:y}=Se.globChars(a),_=t.dot?d:p,x=t.dot?f:p,b=t.capture?"":"?:",O={negated:!1,prefix:""},I=t.bash===!0?".*?":v;t.capture&&(I=`(${I})`);let Z=E=>E.noglobstar===!0?I:`(${b}(?:(?!${y}${E.dot?R:i}).)*?)`,U=E=>{switch(E){case"*":return`${_}${g}${I}`;case".*":return`${i}${g}${I}`;case"*.*":return`${_}${I}${i}${g}${I}`;case"*/*":return`${_}${I}${l}${g}${x}${I}`;case"**":return _+Z(t);case"**/*":return`(?:${_}${Z(t)}${l})?${x}${g}${I}`;case"**/*.*":return`(?:${_}${Z(t)}${l})?${x}${I}${i}${g}${I}`;case"**/.*":return`(?:${_}${Z(t)}${l})?${i}${g}${I}`;default:{let H=/^(.*?)\.(\w+)$/.exec(E);if(!H)return;let B=U(H[1]);return B?B+i+H[2]:void 0}}},re=X.removePrefix(e,O),G=U(re);return G&&t.strictSlashes!==!0&&(G+=`${l}?`),G};Ft.exports=Ke});var Xt=D((Qn,Qt)=>{"use strict";var bn=Y("path"),Sn=Kt(),qe=Wt(),Fe=pe(),Hn=fe(),vn=e=>e&&typeof e=="object"&&!Array.isArray(e),k=(e,r,t=!1)=>{if(Array.isArray(e)){let p=e.map(f=>k(f,r,t));return f=>{for(let v of p){let y=v(f);if(y)return y}return!1}}let n=vn(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=r||{},a=Fe.isWindows(r),i=n?k.compileRe(e,r):k.makeRe(e,r,!1,!0),l=i.state;delete i.state;let g=()=>!1;if(s.ignore){let p={...r,ignore:null,onMatch:null,onResult:null};g=k(s.ignore,p,t)}let R=(p,d=!1)=>{let{isMatch:f,match:v,output:y}=k.test(p,i,r,{glob:e,posix:a}),_={glob:e,state:l,regex:i,posix:a,input:p,output:y,match:v,isMatch:f};return typeof s.onResult=="function"&&s.onResult(_),f===!1?(_.isMatch=!1,d?_:!1):g(p)?(typeof s.onIgnore=="function"&&s.onIgnore(_),_.isMatch=!1,d?_:!1):(typeof s.onMatch=="function"&&s.onMatch(_),d?_:!0)};return t&&(R.state=l),R};k.test=(e,r,t,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let a=t||{},i=a.format||(s?Fe.toPosixSlashes:null),l=e===n,g=l&&i?i(e):e;return l===!1&&(g=i?i(e):e,l=g===n),(l===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?l=k.matchBase(e,r,t,s):l=r.exec(g)),{isMatch:!!l,match:l,output:g}};k.matchBase=(e,r,t,n=Fe.isWindows(t))=>(r instanceof RegExp?r:k.makeRe(r,t)).test(bn.basename(e));k.isMatch=(e,r,t)=>k(r,t)(e);k.parse=(e,r)=>Array.isArray(e)?e.map(t=>k.parse(t,r)):qe(e,{...r,fastpaths:!1});k.scan=(e,r)=>Sn(e,r);k.compileRe=(e,r,t=!1,n=!1)=>{if(t===!0)return e.output;let s=r||{},a=s.contains?"":"^",i=s.contains?"":"$",l=`${a}(?:${e.output})${i}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);let g=k.toRegex(l,r);return n===!0&&(g.state=e),g};k.makeRe=(e,r={},t=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return r.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=qe.fastpaths(e,r)),s.output||(s=qe(e,r)),k.compileRe(s,r,t,n)};k.toRegex=(e,r)=>{try{let t=r||{};return new RegExp(e,t.flags||(t.nocase?"i":""))}catch(t){if(r&&r.debug===!0)throw t;return/$^/}};k.constants=Hn;Qt.exports=k});var Zt=D((Xn,jt)=>{"use strict";jt.exports=Xt()});var er=D((jn,Jt)=>{"use strict";var Vt=Y("util"),Yt=$t(),ee=Zt(),We=pe(),zt=e=>e===""||e==="./",w=(e,r,t)=>{r=[].concat(r),e=[].concat(e);let n=new Set,s=new Set,a=new Set,i=0,l=p=>{a.add(p.output),t&&t.onResult&&t.onResult(p)};for(let p=0;p<r.length;p++){let d=ee(String(r[p]),{...t,onResult:l},!0),f=d.state.negated||d.state.negatedExtglob;f&&i++;for(let v of e){let y=d(v,!0);(f?!y.isMatch:y.isMatch)&&(f?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let R=(i===r.length?[...a]:[...s]).filter(p=>!n.has(p));if(t&&R.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${r.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?r.map(p=>p.replace(/\\/g,"")):r}return R};w.match=w;w.matcher=(e,r)=>ee(e,r);w.isMatch=(e,r,t)=>ee(r,t)(e);w.any=w.isMatch;w.not=(e,r,t={})=>{r=[].concat(r).map(String);let n=new Set,s=[],a=l=>{t.onResult&&t.onResult(l),s.push(l.output)},i=new Set(w(e,r,{...t,onResult:a}));for(let l of s)i.has(l)||n.add(l);return[...n]};w.contains=(e,r,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Vt.inspect(e)}"`);if(Array.isArray(r))return r.some(n=>w.contains(e,n,t));if(typeof r=="string"){if(zt(e)||zt(r))return!1;if(e.includes(r)||e.startsWith("./")&&e.slice(2).includes(r))return!0}return w.isMatch(e,r,{...t,contains:!0})};w.matchKeys=(e,r,t)=>{if(!We.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=w(Object.keys(e),r,t),s={};for(let a of n)s[a]=e[a];return s};w.some=(e,r,t)=>{let n=[].concat(e);for(let s of[].concat(r)){let a=ee(String(s),t);if(n.some(i=>a(i)))return!0}return!1};w.every=(e,r,t)=>{let n=[].concat(e);for(let s of[].concat(r)){let a=ee(String(s),t);if(!n.every(i=>a(i)))return!1}return!0};w.all=(e,r,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Vt.inspect(e)}"`);return[].concat(r).every(n=>ee(n,t)(e))};w.capture=(e,r,t)=>{let n=We.isWindows(t),a=ee.makeRe(String(e),{...t,capture:!0}).exec(n?We.toPosixSlashes(r):r);if(a)return a.slice(1).map(i=>i===void 0?"":i)};w.makeRe=(...e)=>ee.makeRe(...e);w.scan=(...e)=>ee.scan(...e);w.parse=(e,r)=>{let t=[];for(let n of[].concat(e||[]))for(let s of Yt(String(n),r))t.push(ee.parse(s,r));return t};w.braces=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");return r&&r.nobrace===!0||!/\{.*\}/.test(e)?[e]:Yt(e,r)};w.braceExpand=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a string");return w.braces(e,{...r,expand:!0})};Jt.exports=w});var Ln={};cr(Ln,{default:()=>$n});var rr=Y("@yarnpkg/cli"),ge=Y("clipanion");var se=Y("@yarnpkg/core"),tr=fr(er());function ve(e){let r=new Map,t=e.configuration.get("preventMultipleInstances");if(t?.length){let n=t.map(a=>a.startsWith("!")&&!a.startsWith("!?(virtual:)")?`!?(virtual:)${a.slice(1)}`:a),s=se.miscUtils.sortMap([...e.storedPackages.values()],a=>se.structUtils.stringifyLocator(a));for(let a of s){let i=se.structUtils.stringifyIdent(a),l=[i];if(se.structUtils.isVirtualLocator(a)&&l.push(`virtual:${i}`),(0,tr.default)(l,n).length){let R=se.structUtils.ensureDevirtualizedLocator(a);se.miscUtils.getArrayWithDefault(r,R.identHash).push(a)}}for(let[a,i]of r)i.length<=1&&r.delete(a)}return r}var P=Y("@yarnpkg/core"),Te=class extends rr.BaseCommand{static{this.paths=[["check-for-multiple-instances"]]}static{this.usage=ge.Command.Usage({description:"Detects multiple instances of packages due to peer dependency conflicts.",details:`
      This command lists packages matching the preventMultipleInstances config list in .yarnrc.yml
      that have multiple instances within the project.

      If there are multiple instances found, the command will exit with a non-zero exit code.
    `,examples:[["Show detected but forbidden multiple package instances","yarn check-for-multiple-instances"]]})}async execute(){let r=await P.Configuration.find(this.context.cwd,this.context.plugins),{project:t}=await P.Project.find(r,this.context.cwd);await t.restoreInstallState();let n=ve(t);if(n.size){let s=new Map;for(let l of P.miscUtils.sortMap([...t.storedPackages.values()],g=>P.structUtils.stringifyLocator(g)))for(let g of l.dependencies.values()){let R=t.storedResolutions.get(g.descriptorHash);P.miscUtils.getArrayWithDefault(s,R).push(l)}let a={},i={children:a};for(let[l,g]of n.entries())a[l]={value:[g[0],P.formatUtils.Type.IDENT],children:{Instances:{label:"Instances",value:[g.length,P.formatUtils.Type.NUMBER],children:g.map(R=>{let p=s.get(R.locatorHash);return{value:[R,P.formatUtils.Type.LOCATOR],children:[...p?.length?[{label:"Dependents",children:p.map(d=>({value:P.formatUtils.tuple(P.formatUtils.Type.LOCATOR,d)}))}]:[],...R.peerDependencies.size?[{label:"Peer dependencies",children:Array.from(R.peerDependencies.values()).map(d=>{let f=R.dependencies.get(d.identHash),v=typeof f<"u"?t.storedResolutions.get(f.descriptorHash)??null:null,y=v!==null?t.storedPackages.get(v)??null:null;return{value:P.formatUtils.tuple(P.formatUtils.Type.RESOLUTION,{descriptor:d,locator:y})}})}]:[]]}})}}};throw P.treeUtils.emitTree(i,{configuration:r,json:!1,stdout:this.context.stdout,separators:2}),new ge.UsageError("Multiple instances of packages detected due to peer dependency mismatches. This can lead to runtime errors.")}else if(!t.configuration.get("preventMultipleInstances"))throw new ge.UsageError("No patterns defined in preventMultipleInstances in your yarn configuration, no checking will be done.")}};var Ae=Y("@yarnpkg/core");var Tn={configuration:{preventMultipleInstances:{description:`Indicate packages which should not be allowed to be installed multiple times.

      This is important for stateful packages like react where the state should be shared globally in the application.

      Provide a list of glob patterns to match; packages that match the pattern will not be allowed to be installed multiple
      times.  This uses micromatch to match the pattern against the package name and version, so refer to micromatch's
      documentation for detailed syntax.

      Negations can be used to "whitelist" specific packages that match an earlier wildcard but should still be allowed
      to have multiple instances.

      Use a prefix of "virtual:" with a wildcard to only match packages that have peer dependencies, e.g. "virtual:*"
      to block multiple instances of packages with peer dependencies by default.

      For example, you could configure specific packages that you do not want to allow multiple instances of, e.g.

      preventMultipleInstances:
      - 'react-*'
      - 'styled-components'

      Or you could block multiple instances of all virtual packages by default, and add exclusions for packages
      you want to allow multiple instances of, e.g.

      preventMultipleInstances:
      - 'virtual:*'
      - '!debug'
      - '!webpack*'
      - '!*-loader'
      - '!typescript'
      - '!babel*'

      `,isArray:!0,type:Ae.SettingsType.STRING,default:[]}},hooks:{afterAllInstalled:async(e,{report:r})=>{let t=ve(e);t.size&&r.reportError(Ae.MessageName.UNNAMED,`[plugin-prevent-multiple-instances] ${t.size} packages have multiple instances installed. This can lead to runtime errors.  Run "yarn check-for-multiple-instances" for more information.`)}},commands:[Te]},$n=Tn;return pr(Ln);})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
return plugin;
}
};
